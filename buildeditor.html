<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Build Editor - RPG</title>
    <style>
        body { font-family: Arial, sans-serif; text-align: center; }
        .container { width: 600px; margin: auto; }
        select, button { margin: 5px; padding: 5px; }
        .stats { margin-top: 20px; padding: 10px; border: 1px solid #ccc; display: inline-block; }
    </style>
</head>
<body>
    <div class="container">
        <h2>Build Editor - Personnalisation Équipement</h2>

        <!-- Liste des équipements -->
        <div id="equipment-selection">
            <label for="helmet">Casque :</label>
            <select id="helmet"></select>
            <select id="helmet-rarity"></select>

            <label for="shoulders">Épaules :</label>
            <select id="shoulders"></select>
            <select id="shoulders-rarity"></select>

            <label for="chest">Torse :</label>
            <select id="chest"></select>
            <select id="chest-rarity"></select>

            <label for="gloves">Gants :</label>
            <select id="gloves"></select>
            <select id="gloves-rarity"></select>

            <label for="belt">Ceinture :</label>
            <select id="belt"></select>
            <select id="belt-rarity"></select>

            <label for="pants">Pantalon :</label>
            <select id="pants"></select>
            <select id="pants-rarity"></select>

            <label for="boots">Bottes :</label>
            <select id="boots"></select>
            <select id="boots-rarity"></select>

            <label for="weapon">Arme principale :</label>
            <select id="weapon"></select>
            <select id="weapon-rarity"></select>

            <label for="offhand">Arme secondaire :</label>
            <select id="offhand"></select>
            <select id="offhand-rarity"></select>
        </div>

        <button onclick="calculateStats()">Calculer les stats</button>

        <!-- Affichage des stats -->
        <div class="stats">
            <h3>Stats finales :</h3>
            <p>ATK : <span id="atk">50</span></p>
            <p>DEF : <span id="def">30</span></p>
            <p>VIT : <span id="vit">20</span></p>
            <p>CRIT : <span id="crit">10%</span></p>
            <p>Résistance : <span id="res">5%</span></p>
        </div>
    </div>

    <script>
        // Stats de base du personnage
        const baseStats = { atk: 50, def: 30, vit: 20, crit: 10, res: 5 };

        // Définition des équipements et de leurs stats
        const equipment = {
            "helmet": [
                { name: "Casque en cuir", atk: 0, def: 5, vit: 2, crit: 1, res: 2 },
                { name: "Casque en fer", atk: 0, def: 10, vit: -1, crit: 2, res: 5 }
            ],
            "shoulders": [
                { name: "Épaulières légères", atk: 0, def: 3, vit: 1, crit: 2, res: 1 },
                { name: "Épaulières lourdes", atk: 0, def: 8, vit: -1, crit: 1, res: 4 }
            ],
            "weapon": [
                { name: "Épée de base", atk: 15, def: 0, vit: 0, crit: 5, res: 0 },
                { name: "Hache de guerre", atk: 20, def: 0, vit: -2, crit: 7, res: 0 }
            ]
        };

        // Définition des couleurs et multiplicateurs de rareté
        const rarityMultipliers = {
            "gris": 0,
            "vert": 1,
            "bleu": 2,
            "violet": 3,
            "légendaire": 4
        };

        // Fonction pour générer les options de sélection
        function populateSelects() {
            Object.keys(equipment).forEach(slot => {
                let select = document.getElementById(slot);
                let raritySelect = document.getElementById(slot + "-rarity");

                equipment[slot].forEach((item, index) => {
                    let option = document.createElement("option");
                    option.value = index;
                    option.textContent = item.name;
                    select.appendChild(option);
                });

                Object.keys(rarityMultipliers).forEach(rarity => {
                    let option = document.createElement("option");
                    option.value = rarity;
                    option.textContent = rarity.charAt(0).toUpperCase() + rarity.slice(1);
                    raritySelect.appendChild(option);
                });
            });
        }

        // Calcul des stats finales
        function calculateStats() {
            let finalStats = { ...baseStats };

            Object.keys(equipment).forEach(slot => {
                let select = document.getElementById(slot);
                let raritySelect = document.getElementById(slot + "-rarity");

                let item = equipment[slot][select.value];
                let rarityMultiplier = rarityMultipliers[raritySelect.value];

                finalStats.atk += item.atk + (rarityMultiplier * 2);
                finalStats.def += item.def + (rarityMultiplier * 3);
                finalStats.vit += item.vit + (rarityMultiplier * 1);
                finalStats.crit += item.crit + (rarityMultiplier * 2);
                finalStats.res += item.res + (rarityMultiplier * 2);
            });

            // Affichage des nouvelles stats
            document.getElementById("atk").textContent = finalStats.atk;
            document.getElementById("def").textContent = finalStats.def;
            document.getElementById("vit").textContent = finalStats.vit;
            document.getElementById("crit").textContent = finalStats.crit + "%";
            document.getElementById("res").textContent = finalStats.res + "%";
        }

        // Initialisation des sélections d'équipement
        populateSelects();
    </script>
</body>
</html>
