<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fiche de Personnage</title>
    <style>
        body { font-family: Arial, sans-serif; text-align: center; display: flex; }
        .character-sheet { width: 50%; padding: 20px; border-right: 2px solid #ccc; }
        .stats-panel { width: 50%; padding: 20px; }
        .equipment-slot { width: 100px; height: 100px; border: 2px solid #000; margin: 10px auto; cursor: pointer; display: flex; align-items: center; justify-content: center; }
        .panel { display: none; position: absolute; top: 50px; right: 20px; background: white; border: 1px solid #000; padding: 10px; }
    </style>
</head>
<body>
    <div class="character-sheet">
        <h2>Personnage</h2>
        <div class="equipment-slot" id="helmet-slot" onclick="openPanel('helmet')">Casque</div>
        <div class="equipment-slot" id="shoulders-slot" onclick="openPanel('shoulders')">Épaules</div>
        <div class="equipment-slot" id="chest-slot" onclick="openPanel('chest')">Torse</div>
        <div class="equipment-slot" id="gloves-slot" onclick="openPanel('gloves')">Gants</div>
        <div class="equipment-slot" id="belt-slot" onclick="openPanel('belt')">Ceinture</div>
        <div class="equipment-slot" id="pants-slot" onclick="openPanel('pants')">Pantalon</div>
        <div class="equipment-slot" id="boots-slot" onclick="openPanel('boots')">Bottes</div>
        <div class="equipment-slot" id="weapon-slot" onclick="openPanel('weapon')">Arme principale</div>
        <div class="equipment-slot" id="offhand-slot" onclick="openPanel('offhand')">Arme secondaire</div>
    </div>
    <div class="stats-panel">
        <h2>Stats</h2>
        <p>ATK: <span id="atk">50</span></p>
        <p>DEF: <span id="def">30</span></p>
        <p>VIT: <span id="vit">20</span></p>
        <p>CRIT: <span id="crit">10%</span></p>
        <p>Résistance: <span id="res">5%</span></p>
    </div>
    <div class="panel" id="equipment-panel">
        <h3>Choisir un équipement</h3>
        <select id="equipment-select"></select>
        <select id="rarity-select">
            <option value="gris">Gris</option>
            <option value="vert">Vert</option>
            <option value="bleu">Bleu</option>
            <option value="violet">Violet</option>
            <option value="légendaire">Légendaire</option>
        </select>
        <button onclick="applySelection()">Valider</button>
    </div>
    <script>
        const equipment = {
            "helmet": [
                { name: "Casque en cuir", atk: 0, def: 5 },
                { name: "Casque en fer", atk: 0, def: 10 }
            ],
            "shoulders": [
                { name: "Épaulières légères", atk: 0, def: 3 },
                { name: "Épaulières lourdes", atk: 0, def: 8 }
            ],
            "chest": [
                { name: "Plastron de cuir", atk: 0, def: 10 },
                { name: "Plastron d'acier", atk: 0, def: 15 }
            ],
            "weapon": [
                { name: "Épée de base", atk: 15, def: 0 },
                { name: "Hache de guerre", atk: 20, def: 0 }
            ]
        };
        let currentSlot = "";
        function openPanel(slot) {
            currentSlot = slot;
            const panel = document.getElementById("equipment-panel");
            panel.style.display = "block";
            const select = document.getElementById("equipment-select");
            select.innerHTML = "";
            equipment[slot].forEach((item, index) => {
                let option = document.createElement("option");
                option.value = index;
                option.textContent = item.name;
                select.appendChild(option);
            });
        }
        function applySelection() {
            const select = document.getElementById("equipment-select");
            const rarity = document.getElementById("rarity-select").value;
            const selectedItem = equipment[currentSlot][select.value];
            document.getElementById(`${currentSlot}-slot`).textContent = selectedItem.name;
            document.getElementById("def").textContent = 30 + (selectedItem.def || 0);
            document.getElementById("atk").textContent = 50 + (selectedItem.atk || 0);
            document.getElementById("equipment-panel").style.display = "none";
        }
    </script>
</body>
</html>
